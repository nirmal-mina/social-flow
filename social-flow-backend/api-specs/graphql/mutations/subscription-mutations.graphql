"""
Subscription & payment-related mutations.
"""
type Mutation {
  """
  Subscribe user to a premium plan.
  """
  subscribePlan(input: SubscribePlanInput!): Subscription!

  """
  Cancel an active subscription.
  """
  cancelSubscription(subscriptionId: ID!): CancelResponse!

  """
  Process a one-time payment (ads, superchat, etc.).
  """
  processPayment(input: PaymentInput!): PaymentReceipt!
}

"""
Input for subscribing to a plan.
"""
input SubscribePlanInput {
  userId: ID!
  planId: ID!
  paymentMethodId: ID!
}

"""
Input for processing payments.
"""
input PaymentInput {
  userId: ID!
  amount: Float!
  currency: String!
  purpose: PaymentPurpose!
}

"""
Response for cancelled subscription.
"""
type CancelResponse {
  success: Boolean!
  refundIssued: Boolean
}

"""
Receipt for processed payments.
"""
type PaymentReceipt {
  transactionId: String!
  amount: Float!
  currency: String!
  status: PaymentStatus!
}
