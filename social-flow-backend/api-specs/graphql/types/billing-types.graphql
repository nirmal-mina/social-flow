"""
Billing & payment instruments (cards, wallets).
Sensitive fields MUST NOT be returned to clients; only tokenized IDs are returned.
"""

type PaymentMethod {
  id: ID!
  userId: ID!
  type: String!            # e.g., "card", "stripe", "paypal", "wallet"
  provider: String
  last4: String           # last 4 digits for cards
  expiryMonth: Int
  expiryYear: Int
  default: Boolean
  metadata: JSON
}

input CardPaymentInput {
  userId: ID!
  cardToken: String!      # token generated by PCI-compliant gateway (never store raw card data)
  setAsDefault: Boolean = false
}
