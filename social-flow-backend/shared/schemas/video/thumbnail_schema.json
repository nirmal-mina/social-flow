{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://socialflow.com/schemas/video/thumbnail_schema.json",
  "title": "Thumbnail",
  "description": "Thumbnail metadata with multiple variants for UI and CDN serving.",
  "type": "object",
  "required": ["thumbnail_id", "video_id", "variants", "created_at"],
  "additionalProperties": false,
  "properties": {
    "thumbnail_id": { "type": "string", "format": "uuid" },
    "video_id": { "type": "string", "format": "uuid" },
    "source_time_seconds": { "type": ["number", "null"], "description": "If thumbnail captured from video timeline." },
    "variants": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["url", "width", "height", "filesize_bytes"],
        "properties": {
          "url": { "type": "string", "format": "uri" },
          "width": { "type": "integer", "minimum": 1 },
          "height": { "type": "integer", "minimum": 1 },
          "filesize_bytes": { "type": "integer", "minimum": 0 },
          "mime_type": { "type": "string" },
          "role": { "type": "string", "enum": ["small", "medium", "large", "hero", "preview"], "default": "medium" }
        },
        "additionalProperties": false
      },
      "minItems": 1
    },
    "is_custom": { "type": "boolean", "description": "True if uploaded by creator vs auto-generated." },
    "created_at": { "type": "string", "format": "date-time" },
    "perceptual_hash": { "type": ["string", "null"], "description": "Optional pHash/dHash for duplicate detection." }
  }
}
