{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://socialflow.com/schemas/video/caption_schema.json",
  "title": "Caption",
  "description": "Caption / subtitle representation including language, format and storage location.",
  "type": "object",
  "required": ["caption_id", "video_id", "language", "format", "storage_path", "created_at"],
  "additionalProperties": false,
  "properties": {
    "caption_id": { "type": "string", "format": "uuid" },
    "video_id": { "type": "string", "format": "uuid" },
    "language": { "type": "string", "description": "BCP-47 language tag." },
    "format": { "type": "string", "enum": ["srt", "vtt", "ttml", "dfxp", "json"], "description": "Caption file format." },
    "storage_path": { "type": "string", "description": "URI/key to stored caption file." },
    "is_auto_generated": { "type": "boolean", "default": false },
    "confidence_score": { "type": ["number", "null"], "minimum": 0, "maximum": 1 },
    "created_at": { "type": "string", "format": "date-time" },
    "last_edited_at": { "type": ["string", "null"], "format": "date-time" },
    "editor": { "type": ["string", "null"], "description": "user_id who edited captions." }
  }
}
